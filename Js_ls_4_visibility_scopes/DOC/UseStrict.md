### Применение 'use strict'

Режим `"use strict"` в JavaScript — это директива, которая включает строгий режим, заставляя интерпретатор применять более строгие правила синтаксиса и поведения. Это помогает избежать распространённых ошибок, улучшает читаемость кода и делает его более безопасным. Ниже показано, как и зачем использовать `"use strict"`, его влияние на код и примеры.

---

### 1. **Что такое `"use strict"`?**
- `"use strict"` — это строковый литерал, который включается в начале скрипта или функции для активации строгого режима.
- В строгом режиме JavaScript применяет более строгие правила, устраняя некоторые "слабые" аспекты языка и предотвращая потенциальные ошибки.

---

### 2. **Как применять `"use strict"`?**
- **На уровне скрипта**: Директива размещается в начале файла или `<script>`-тега:
  ```javascript
  "use strict";
  // Весь код в файле работает в строгом режиме
  x = 10; // Ошибка: x is not defined
  ```
- **На уровне функции**: Директива размещается в начале тела функции, ограничивая строгий режим только этой функцией:
  ```javascript
  function myFunction() {
    "use strict";
    y = 20; // Ошибка: y is not defined
  }

  x = 10; // Работает, так как вне функции строгий режим не действует
  myFunction();
  ```
- **Примечание**: Директива должна быть первой строкой в скрипте или функции (комментарии допустимы). Иначе она игнорируется.

---

### 3. **Основные изменения в строгом режиме**
Строгий режим вносит следующие изменения в поведение JavaScript:

#### a) **Запрет на необъявленные переменные**
- Без `"use strict"` можно присваивать значения необъявленным переменным, что создаёт глобальные переменные.
- В строгом режиме это вызывает `ReferenceError`.
  ```javascript
  "use strict";
  x = 10; // ReferenceError: x is not defined
  ```

#### b) **Запрет на дублирование параметров функции**
- В обычном режиме дублирование параметров в функции не вызывает ошибок.
- В строгом режиме это вызывает `SyntaxError`.
  ```javascript
  "use strict";
  function myFunction(a, a) {
    // SyntaxError: Duplicate parameter name not allowed in this context
  }
  ```

#### c) **Ограничения на использование `this`**
- В обычном режиме `this` в функциях, вызванных не как методы, указывает на глобальный объект (`window` в браузере).
- В строгом режиме `this` будет `undefined`, если функция вызвана не как метод.
  ```javascript
  "use strict";
  function myFunction() {
    console.log(this); // undefined
  }
  myFunction();
  ```

#### d) **Запрет на удаление переменных, функций и объектов**
- Оператор `delete` не может удалять переменные, функции или объекты в строгом режиме.
  ```javascript
  "use strict";
  var x = 10;
  delete x; // SyntaxError: Delete of an unqualified identifier in strict mode
  ```

#### e) **Запрет на использование устаревших конструкций**
- Некоторые устаревшие возможности, такие как объект `arguments.callee`, недоступны.
  ```javascript
  "use strict";
  function myFunction() {
    console.log(arguments.callee); // TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed
  }
  myFunction();
  ```

#### f) **Более строгие правила для `eval`**
- В строгом режиме код внутри `eval` не создаёт новые переменные в окружающей области видимости.
  ```javascript
  "use strict";
  eval("var x = 10");
  console.log(typeof x); // undefined
  ```

#### g) **Запрет на использование зарезервированных слов**
- Некоторые слова, которые могут стать ключевыми в будущем (например, `implements`, `interface`, `package`), нельзя использовать как имена переменных.
  ```javascript
  "use strict";
  var package = 1; // SyntaxError: Unexpected strict mode reserved word
  ```

---

### 4. **Преимущества использования `"use strict"`**
- **Меньше ошибок**: Помогает выявлять ошибки на этапе написания кода (например, необъявленные переменные).
- **Улучшение производительности**: Некоторые оптимизации движков JavaScript работают лучше в строгом режиме.
- **Чистый код**: Заставляет использовать более современные и безопасные практики.
- **Подготовка к будущему**: Соответствует стандартам ECMAScript, что упрощает переход на новые версии языка.

---

### 5. **Ограничения и особенности**
- **Нельзя отменить**: Если строгий режим включён, его нельзя отключить в текущей области видимости.
- **Совместимость**: В старых браузерах (до ECMAScript 5) директива `"use strict"` игнорируется, но код продолжает работать как в обычном режиме.
- **Модули ES6**: В модулях (с `import/export`) строгий режим включён **по умолчанию**, поэтому явное использование `"use strict"` не требуется.
  ```javascript
  // В модуле ES6
  x = 10; // ReferenceError: x is not defined
  export default x;
  ```

---

### 6. **Пример применения**
Вот пример, показывающий разницу в поведении с `"use strict"` и без:
```javascript
// Без строгого режима
function looseMode() {
  x = 10; // Создаёт глобальную переменную
  console.log(x); // 10
}
looseMode();
console.log(window.x); // 10 (в браузере)

// Со строгим режимом
"use strict";
function strictMode() {
  y = 20; // ReferenceError: y is not defined
}
strictMode();
```

---

### 7. **Когда использовать `"use strict"`?**
- **Рекомендуется** использовать во всех новых проектах, особенно если вы пишете код для браузеров или Node.js.
- **Не требуется** в модулях ES6, так как они автоматически работают в строгом режиме.
- **Осторожно** в старых проектах: включение `"use strict"` в старом коде может привести к ошибкам, если код использует устаревшие конструкции.

---

### 8. **Практические советы**
- Размещайте `"use strict"` в начале файла, чтобы применить строгий режим ко всему скрипту.
- Если вы работаете с библиотеками или сторонним кодом, используйте строгий режим только внутри функций, чтобы избежать влияния на чужой код.
- Тестируйте код после включения `"use strict"`, чтобы выявить потенциальные ошибки.
